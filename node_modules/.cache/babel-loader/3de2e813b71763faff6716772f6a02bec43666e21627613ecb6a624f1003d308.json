{"ast":null,"code":"import{useEffect,useRef}from'react';import anime from'animejs/lib/anime.es.js';const useAnim=animationOptions=>{const elementsRef=useRef([]);useEffect(()=>{const observer=new IntersectionObserver(entries=>{entries.forEach(entry=>{if(entry.isIntersecting){const elementWidth=entry.target.getBoundingClientRect().width;anime({targets:entry.target,translateX:[elementWidth,0],// Перемещение вправо, затем обратно\n...animationOptions});observer.unobserve(entry.target);}});},{threshold:0.1});elementsRef.current.forEach(element=>observer.observe(element));return()=>{elementsRef.current.forEach(element=>observer.unobserve(element));};},[animationOptions]);const refCallback=element=>{if(element){elementsRef.current.push(element);}};return refCallback;};export default useAnim;","map":{"version":3,"names":["useEffect","useRef","anime","useAnim","animationOptions","elementsRef","observer","IntersectionObserver","entries","forEach","entry","isIntersecting","elementWidth","target","getBoundingClientRect","width","targets","translateX","unobserve","threshold","current","element","observe","refCallback","push"],"sources":["C:/Users/npatr/Documents/GitHub/AutoBox18/src/Animations/useAnim.js"],"sourcesContent":["import { useEffect, useRef } from 'react';\r\nimport anime from 'animejs/lib/anime.es.js';\r\n\r\nconst useAnim = (animationOptions) => {\r\n    const elementsRef = useRef([]);\r\n\r\n    useEffect(() => {\r\n        const observer = new IntersectionObserver(\r\n            (entries) => {\r\n                entries.forEach(entry => {\r\n                    if (entry.isIntersecting) {\r\n                        const elementWidth = entry.target.getBoundingClientRect().width;\r\n                        anime({\r\n                            targets: entry.target,\r\n                            translateX: [elementWidth, 0], // Перемещение вправо, затем обратно\r\n                            ...animationOptions\r\n                        });\r\n                        observer.unobserve(entry.target);\r\n                    }\r\n                });\r\n            },\r\n            { threshold: 0.1 }\r\n        );\r\n\r\n        elementsRef.current.forEach(element => observer.observe(element));\r\n\r\n        return () => {\r\n            elementsRef.current.forEach(element => observer.unobserve(element));\r\n        };\r\n    }, [animationOptions]);\r\n\r\n    const refCallback = (element) => {\r\n        if (element) {\r\n            elementsRef.current.push(element);\r\n        }\r\n    };\r\n\r\n    return refCallback;\r\n};\r\n\r\nexport default useAnim;\r\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,MAAM,KAAQ,OAAO,CACzC,MAAO,CAAAC,KAAK,KAAM,yBAAyB,CAE3C,KAAM,CAAAC,OAAO,CAAIC,gBAAgB,EAAK,CAClC,KAAM,CAAAC,WAAW,CAAGJ,MAAM,CAAC,EAAE,CAAC,CAE9BD,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAM,QAAQ,CAAG,GAAI,CAAAC,oBAAoB,CACpCC,OAAO,EAAK,CACTA,OAAO,CAACC,OAAO,CAACC,KAAK,EAAI,CACrB,GAAIA,KAAK,CAACC,cAAc,CAAE,CACtB,KAAM,CAAAC,YAAY,CAAGF,KAAK,CAACG,MAAM,CAACC,qBAAqB,CAAC,CAAC,CAACC,KAAK,CAC/Db,KAAK,CAAC,CACFc,OAAO,CAAEN,KAAK,CAACG,MAAM,CACrBI,UAAU,CAAE,CAACL,YAAY,CAAE,CAAC,CAAC,CAAE;AAC/B,GAAGR,gBACP,CAAC,CAAC,CACFE,QAAQ,CAACY,SAAS,CAACR,KAAK,CAACG,MAAM,CAAC,CACpC,CACJ,CAAC,CAAC,CACN,CAAC,CACD,CAAEM,SAAS,CAAE,GAAI,CACrB,CAAC,CAEDd,WAAW,CAACe,OAAO,CAACX,OAAO,CAACY,OAAO,EAAIf,QAAQ,CAACgB,OAAO,CAACD,OAAO,CAAC,CAAC,CAEjE,MAAO,IAAM,CACThB,WAAW,CAACe,OAAO,CAACX,OAAO,CAACY,OAAO,EAAIf,QAAQ,CAACY,SAAS,CAACG,OAAO,CAAC,CAAC,CACvE,CAAC,CACL,CAAC,CAAE,CAACjB,gBAAgB,CAAC,CAAC,CAEtB,KAAM,CAAAmB,WAAW,CAAIF,OAAO,EAAK,CAC7B,GAAIA,OAAO,CAAE,CACThB,WAAW,CAACe,OAAO,CAACI,IAAI,CAACH,OAAO,CAAC,CACrC,CACJ,CAAC,CAED,MAAO,CAAAE,WAAW,CACtB,CAAC,CAED,cAAe,CAAApB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}